-- name: DeleteExpiredOAuth2ClientTokens :execrows
DELETE FROM oauth2_client_tokens WHERE code_expires_at < (NOW() - interval '1 day') AND access_expires_at < (NOW() - interval '1 day') AND refresh_expires_at < (NOW() - interval '1 day');

-- name: DestroyAllData :exec
TRUNCATE valid_ingredient_preparations, meal_plan_tasks, recipe_prep_tasks, recipes, recipe_prep_task_steps, recipe_ratings, valid_vessels, meal_plan_grocery_list_items, service_settings, valid_ingredient_measurement_units, valid_ingredient_state_ingredients, household_invitations, household_user_memberships, meal_components, valid_ingredient_states, valid_preparation_vessels, recipe_media, recipe_step_products, service_setting_configurations, oauth2_clients, password_reset_tokens, recipe_step_vessels, user_ingredient_preferences, valid_measurement_units, household_instrument_ownerships, households, meal_plans, valid_preparations, users, valid_ingredient_group_members, meal_plan_option_votes, recipe_step_completion_conditions, recipe_step_instruments, recipe_step_completion_condition_ingredients, recipe_step_ingredients, recipe_steps, valid_ingredient_groups, valid_ingredients, meal_plan_events, meal_plan_options, meals, webhooks, valid_instruments, valid_measurement_unit_conversions, valid_preparation_instruments, webhook_trigger_events, audit_log_entries, oauth2_client_tokens, user_notifications CASCADE;
